(this["webpackJsonpscotgov-covid-data"]=this["webpackJsonpscotgov-covid-data"]||[]).push([[0],{225:function(e,a,t){e.exports=t(415)},230:function(e,a,t){},415:function(e,a,t){"use strict";t.r(a);var s=t(1),n=t.n(s),r=t(31),l=t.n(r),c=(t(230),t(55)),o=t(110),i=t(167),d=t(168),h=t(191),m=t(192),u=t(33),g=t(17),y=t(456),_=new(t(190).a)({uri:"https://scotgovcovidweb.azurewebsites.net/"}),C=t(449),f=t(448),v=t(455),b=t(445),E=t(417),p=t(447),k=t(418),w=t(450),O=t(451),T=t(452),D=t(188),j=t.n(D),S=t(182),A=t.n(S),G=t(183),x=t(73);function B(){var e=Object(G.a)(["query GetDatasets($order: DatasetsSort!){\n    datasets(order_by: $order)\n    {\n      nodes{\n        date,\n        totalTests,\n        totalDeaths,\n        positiveTests,\n        negativeTests,\n          ayrshireandarranCases,\n          bordersCases,\n          dumfriesandgallowayCases,\n          fifeCases,\n          forthvalleyCases,\n          grampianCases,\n          greaterglasgowandclydeCases,\n          highlandCases,\n          lanarkshireCases,\n          lothianCases,\n          orkneyCases,\n          shetlandCases,\n          taysideCases\n      }\n    }\n  }"]);return B=function(){return e},e}var L=t.n(x)()(B()),$={order:{date:"ASC"}},q=["total_tests","total_deaths","positive_tests","negative_tests","ayrshireandarran_cases","borders_cases","dumfriesandgalloway_cases","fife_cases","forthvalley_cases","grampian_cases","greaterglasgowandclyde_cases","highland_cases","lanarkshire_cases","lothian_cases","orkney_cases","shetland_cases","tayside_cases"],F={total_tests:"Total Tests",total_deaths:"Total Deaths",positive_tests:"Positive Tests",negative_tests:"Negative Tests",ayrshireandarran_cases:"Ayrshire and Arran Cases",borders_cases:"Borders Cases",dumfriesandgalloway_cases:"Dumfries and Galloway Cases",fife_cases:"Fife Cases",forthvalley_cases:"Forth Valley Cases",grampian_cases:"Grampian Cases",greaterglasgowandclyde_cases:"Greater Glasgow and Clyde Cases",highland_cases:"Highland Cases",lanarkshire_cases:"Lanarkshire Cases",lothian_cases:"Lothian Cases",orkney_cases:"Orkney Cases",shetland_cases:"Shetland Cases",tayside_cases:"Tayside Cases"},I=q.reduce((function(e,a){return e[a]=A()({luminosity:"light"}),e}),{}),J=function(e){Object(m.a)(t,e);var a=Object(h.a)(t);function t(e){var s;return Object(i.a)(this,t),(s=a.call(this,e)).handleChange=function(e){s.setState(Object(o.a)({},s.state,Object(c.a)({},e.target.name,e.target.checked)))},s.state=q.reduce((function(e,a){return e[a+"_enabled"]=!1,e}),{}),s}return Object(d.a)(t,[{key:"selectAllChannels",value:function(e){this.setState(Object.keys(this.state).reduce((function(a,t){return Object(o.a)({},a,Object(c.a)({},t,e))}),{}))}},{key:"transformChartData",value:function(e){var a=[];return e.datasets.nodes.forEach((function(e,t){var s={date:e.date.split("T")[0],total_deaths:e.totalDeaths,total_tests:e.totalTests,positive_tests:e.positiveTests,negative_tests:e.negativeTests,ayrshireandarran_cases:e.ayrshireandarranCases,borders_cases:e.bordersCases,dumfriesandgalloway_cases:e.dumfriesandgallowayCases,fife_cases:e.dumfriesandgallowayCases,forthvalley_cases:e.forthvalleyCases,grampian_cases:e.grampianCases,greaterglasgowandclyde_cases:e.greaterglasgowandclydeCases,highland_cases:e.highlandCases,lanarkshire_cases:e.lanarkshireCases,lothian_cases:e.lothianCases,orkney_cases:e.orkneyCases,shetland_cases:e.shetlandCases,tayside_cases:e.taysideCases};a.push(s)})),a}},{key:"render",value:function(){var e=this;return n.a.createElement(g.a,{client:_},n.a.createElement(y.a,{query:L,variables:$},(function(a){var t=a.loading,s=a.data;a.refetch;return!t&&n.a.createElement(b.a,{container:!0},n.a.createElement(b.a,{item:!0,sm:12,style:{textAlign:"center",margin:5}},n.a.createElement(E.a,{variant:"h3"},"ScotGov COVID-19 Data")),n.a.createElement(b.a,{item:!0,sm:2},n.a.createElement(p.a,{style:{marginLeft:30}},n.a.createElement(E.a,{variant:"h6",style:{textAlign:"center",margin:5}},"Data Channels"),n.a.createElement(f.a,{style:{padding:5}},q.map((function(a){return n.a.createElement(C.a,{control:n.a.createElement(v.a,{checked:e.state[a+"_enabled"],onChange:e.handleChange,name:a+"_enabled"}),label:F[a],key:a})})),n.a.createElement(w.a,{variant:"contained",color:"primary",style:{width:"100%"}},n.a.createElement(k.a,{onClick:function(){return e.selectAllChannels(!0)},style:{width:"100%"}},"Select all"),n.a.createElement(k.a,{onClick:function(){return e.selectAllChannels(!1)},style:{width:"100%"}},"Deselect all"))))),n.a.createElement(b.a,{item:!0,sm:10},n.a.createElement(u.d,null,n.a.createElement(u.c,{data:e.transformChartData(s),margin:{top:5,right:30,bottom:5}},n.a.createElement(u.a,{stroke:"#ccc"}),n.a.createElement(u.e,{contentStyle:{background:"#424242"}}),n.a.createElement(u.f,{dataKey:"date"}),n.a.createElement(u.g,null),q.filter((function(a){return!0===e.state[a+"_enabled"]})).map((function(e){return n.a.createElement(u.b,{type:"monotone",dataKey:e,name:F[e],stroke:I[e],key:e})}))))),n.a.createElement(b.a,{item:!0,sm:12},n.a.createElement(O.a,{style:{width:"100%",position:"fixed",bottom:0}},n.a.createElement(T.a,{icon:n.a.createElement(j.a,null),href:"https://github.com/dillanmann/scotgov-covid-chart"}))))})))}}]),t}(n.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var K=t(453),V=t(189),W=t(454),z=Object(V.a)({palette:{type:"dark"}});l.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(K.a,{theme:z},n.a.createElement(W.a,null,n.a.createElement(J,null)))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[225,1,2]]]);
//# sourceMappingURL=main.b9336e04.chunk.js.map