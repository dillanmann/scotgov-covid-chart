(this["webpackJsonpscotgov-covid-data"]=this["webpackJsonpscotgov-covid-data"]||[]).push([[0],{229:function(e,a,t){e.exports=t(419)},234:function(e,a,t){},419:function(e,a,t){"use strict";t.r(a);var s=t(1),n=t.n(s),r=t(32),l=t.n(r),c=(t(234),t(50)),o=t(117),i=t(172),d=t(173),h=t(196),m=t(197),g=t(34),u=t(17),y=t(456),f=new(t(195).a)({uri:"https://scotgovcovidweb.azurewebsites.net/"}),C=t(444),_=t(421),v=t(446),p=t(422),b=t(447),E=t(455),k=t(448),w=t(423),S=t(449),O=t(457),j=t(454),T=t(450),D=t(451),x=t(193),A=t.n(x),G=t(187),L=t.n(G),B=t(188),I=t(77);function $(){var e=Object(B.a)(["query GetDatasets($order: DatasetsSort!){\n    datasets(order_by: $order)\n    {\n      nodes{\n        date,\n        totalTests,\n        totalDeaths,\n        positiveTests,\n        negativeTests,\n          ayrshireandarranCases,\n          bordersCases,\n          dumfriesandgallowayCases,\n          fifeCases,\n          forthvalleyCases,\n          grampianCases,\n          greaterglasgowandclydeCases,\n          highlandCases,\n          lanarkshireCases,\n          lothianCases,\n          orkneyCases,\n          shetlandCases,\n          taysideCases\n      }\n    }\n  }"]);return $=function(){return e},e}var q=t.n(I)()($()),F={order:{date:"ASC"}},H=["total_tests","total_deaths","positive_tests","negative_tests","ayrshireandarran_cases","borders_cases","dumfriesandgalloway_cases","fife_cases","forthvalley_cases","grampian_cases","greaterglasgowandclyde_cases","highland_cases","lanarkshire_cases","lothian_cases","orkney_cases","shetland_cases","tayside_cases"],J={total_tests:"Total Tests",total_deaths:"Total Deaths",positive_tests:"Positive Tests",negative_tests:"Negative Tests",ayrshireandarran_cases:"Ayrshire and Arran Cases",borders_cases:"Borders Cases",dumfriesandgalloway_cases:"Dumfries and Galloway Cases",fife_cases:"Fife Cases",forthvalley_cases:"Forth Valley Cases",grampian_cases:"Grampian Cases",greaterglasgowandclyde_cases:"Greater Glasgow and Clyde Cases",highland_cases:"Highland Cases",lanarkshire_cases:"Lanarkshire Cases",lothian_cases:"Lothian Cases",orkney_cases:"Orkney Cases",shetland_cases:"Shetland Cases",tayside_cases:"Tayside Cases"},K=H.reduce((function(e,a){return e[a]=L()({luminosity:"light"}),e}),{}),V=function(e){Object(m.a)(t,e);var a=Object(h.a)(t);function t(e){var s;return Object(i.a)(this,t),(s=a.call(this,e)).handleCheckboxChange=function(e){s.setState(Object(o.a)({},s.state,Object(c.a)({},e.target.name,e.target.checked)))},s.setGraphScale=function(e){s.setState(Object(c.a)({},e.target.name,e.target.value))},s.state=H.reduce((function(e,a){return e[a+"_enabled"]=!1,e}),{}),s.state.graphScale="linear",s}return Object(d.a)(t,[{key:"selectAllChannels",value:function(e){this.setState(Object.keys(this.state).filter((function(e){return"graphScale"!==e})).reduce((function(a,t){return Object(o.a)({},a,Object(c.a)({},t,e))}),{}))}},{key:"transformChartData",value:function(e){var a=[];return e.datasets.nodes.forEach((function(e,t){var s={date:e.date.split("T")[0],total_deaths:e.totalDeaths,total_tests:e.totalTests,positive_tests:e.positiveTests,negative_tests:e.negativeTests,ayrshireandarran_cases:e.ayrshireandarranCases,borders_cases:e.bordersCases,dumfriesandgalloway_cases:e.dumfriesandgallowayCases,fife_cases:e.dumfriesandgallowayCases,forthvalley_cases:e.forthvalleyCases,grampian_cases:e.grampianCases,greaterglasgowandclyde_cases:e.greaterglasgowandclydeCases,highland_cases:e.highlandCases,lanarkshire_cases:e.lanarkshireCases,lothian_cases:e.lothianCases,orkney_cases:e.orkneyCases,shetland_cases:e.shetlandCases,tayside_cases:e.taysideCases};a.push(s)})),a}},{key:"render",value:function(){var e=this;return n.a.createElement(u.a,{client:f},n.a.createElement(y.a,{query:q,variables:F},(function(a){var t=a.loading,s=a.data;a.refetch;return!t&&n.a.createElement(C.a,{container:!0},n.a.createElement(C.a,{item:!0,sm:12,style:{textAlign:"center",margin:5}},n.a.createElement(_.a,{variant:"h3"},"ScotGov COVID-19 Data")),n.a.createElement(C.a,{item:!0,sm:2},n.a.createElement(v.a,{style:{marginLeft:30}},n.a.createElement(_.a,{variant:"h6",style:{textAlign:"center",margin:5}},"Data Channels"),n.a.createElement(p.a,{style:{padding:5}},H.map((function(a){return n.a.createElement(b.a,{control:n.a.createElement(E.a,{checked:e.state[a+"_enabled"],onChange:e.handleCheckboxChange,name:a+"_enabled"}),label:J[a],key:a})})),n.a.createElement(k.a,{variant:"contained",color:"primary",style:{width:"100%"}},n.a.createElement(w.a,{onClick:function(){return e.selectAllChannels(!0)},style:{width:"100%"}},"Select all"),n.a.createElement(w.a,{onClick:function(){return e.selectAllChannels(!1)},style:{width:"100%"}},"Deselect all")),n.a.createElement(S.a,{row:!0,"aria-label":"graph-scale",name:"graphScale",value:e.state.graphScale,onChange:e.setGraphScale},n.a.createElement(O.a,{style:{display:"flex",alignItems:"center",justifyContent:"center",marginRight:20,marginLeft:10}},n.a.createElement(_.a,{variant:"button"},"Scale:")),n.a.createElement(b.a,{value:"log",control:n.a.createElement(j.a,null),label:"log"}),n.a.createElement(b.a,{value:"linear",control:n.a.createElement(j.a,null),label:"linear"}))))),n.a.createElement(C.a,{item:!0,sm:10},n.a.createElement(g.d,null,n.a.createElement(g.c,{data:e.transformChartData(s),margin:{top:5,right:30,bottom:5}},n.a.createElement(g.a,{stroke:"#ccc"}),n.a.createElement(g.e,{contentStyle:{background:"#424242"}}),n.a.createElement(g.f,{dataKey:"date"}),n.a.createElement(g.g,{scale:e.state.graphScale,domain:["auto","auto"]}),H.filter((function(a){return!0===e.state[a+"_enabled"]})).map((function(e){return n.a.createElement(g.b,{type:"monotone",dataKey:e,name:J[e],stroke:K[e],key:e})}))))),n.a.createElement(C.a,{item:!0,sm:12},n.a.createElement(T.a,{style:{width:"100%",position:"fixed",bottom:0,maxHeight:45}},n.a.createElement(D.a,{icon:n.a.createElement(A.a,null),href:"https://github.com/dillanmann/scotgov-covid-chart"}))))})))}}]),t}(n.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var W=t(452),z=t(194),M=t(453),N=Object(z.a)({palette:{type:"dark"}});l.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(W.a,{theme:N},n.a.createElement(M.a,null,n.a.createElement(V,null)))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[229,1,2]]]);
//# sourceMappingURL=main.f893c2c6.chunk.js.map